$(function(){var e=function(){for(var e={},t=window.location.search.substring(1),a=t.split("&"),n=0;n<a.length;n++){var l=a[n].split("=");if("undefined"==typeof e[l[0]])e[l[0]]=decodeURIComponent(l[1]);else if("string"==typeof e[l[0]]){var c=[e[l[0]],decodeURIComponent(l[1])];e[l[0]]=c}else e[l[0]].push(decodeURIComponent(l[1]))}return e}(),t=[],a=React.createClass({displayName:"CommonBuild",render:function(){function e(){var e=[];e.push(React.createElement("td",{key:"generateRowForLevels-1"})),e.push(React.createElement("td",{key:"generateRowForLevels-2"})),e.push(React.createElement("td",{key:"generateRowForLevels-3"}));for(var t=0;18>t;t++)e.push(React.createElement("td",{key:"generateRowForLevels-"+(t+10)},React.createElement("h3",null,t+1)));return e}function a(e){var t=[];return t.push(React.createElement("td",{key:"generateRowForPassive-1",className:"td-center"},React.createElement("img",{className:"spell-icon",src:"/res/passive/"+r.passive.image.full}))),t.push(React.createElement("td",{key:"generateRowForPassive-2"})),t.push(React.createElement("td",{key:"generateRowForPassive-3"},React.createElement("h1",null,r.passive.name.toLowerCase()))),$.each(e,function(e){t.push(React.createElement("td",{key:"generateRowForPassive-"+(e+10)}))}),t}function n(e,t){var a=[];return a.push(React.createElement("td",{key:"generateRowForSpell-1",className:"td-center"},React.createElement("img",{className:"spell-icon",src:"/res/spell/"+r.spells[e].image.full}))),a.push(React.createElement("td",{key:"generateRowForSpell-2"},React.createElement("h2",null,d.charAt(e)))),a.push(React.createElement("td",{key:"generateRowForSpell-3"},React.createElement("h1",null,r.spells[e].name.toLowerCase()))),$.each(t,function(e,t){a.push(React.createElement("td",{key:"generateRowForSpell-"+(e+10),className:"border-cell"},React.createElement("span",{className:0==t?"unchecked":"checked"})))}),a}var l=this.props.build,c=[],s=[],r=t.champion;if(void 0==l)return React.createElement("div",null);var i=l.itemEvents;if(void 0!=i){var m=i.length,c=[];$.each(i,function(e,a){c.push(React.createElement("img",{className:a.is_final_item?"primary-item":"item",src:"/res/item/"+t.items.data[a.itemId].image.full,key:e})),m-1!=e&&c.push(React.createElement("div",{className:"bridge",key:e+"bridge"}))})}if(void 0!=l.skillUps&&void 0!=r){var o=makeArray(18,5,0);$.each(l.skillUps,function(e,t){o[t+1][e]=1});var d="QWER";s=React.createElement("div",{className:"skill-order-table-container"},React.createElement("table",{className:"skill-order"},React.createElement("tr",null," ",e()," "),React.createElement("tr",null," ",a(o[0])," "),React.createElement("tr",null," ",n(0,o[1])," "),React.createElement("tr",null," ",n(1,o[2])," "),React.createElement("tr",null," ",n(2,o[3])," "),React.createElement("tr",null," ",n(3,o[4])," ")))}return React.createElement("div",{className:"build themed-light"},React.createElement("div",null,React.createElement("h5",null,"Common build")),React.createElement("div",{className:"build-top"},React.createElement("div",{className:"build-left-col"},React.createElement("img",{className:"champion-profile-img",title:l.champion,src:"/res/autocomplete_mock/"+l.champion+".png"}),React.createElement("img",{className:"summoner-spell-1-img",title:l.summonerSpells[0].name,src:"/res/spell/"+l.summonerSpells[0].image.full}),React.createElement("img",{className:"summoner-spell-2-img",title:l.summonerSpells[1].name,src:"/res/spell/"+l.summonerSpells[1].image.full})),React.createElement("div",{className:"build-right-col"},React.createElement("table",{className:"flex-align-top"},React.createElement("tr",null,React.createElement("td",null,React.createElement("h4",null,"role")),React.createElement("td",null,React.createElement("h3",null,this.props.build.role))),React.createElement("tr",null,React.createElement("td",null,React.createElement("h4",null,"win rate")),React.createElement("td",null,React.createElement("h3",null,(100*l.winRate).toFixed(2)+"%("+l.stats.count+")"))),React.createElement("tr",null,React.createElement("td",null,React.createElement("h4",null,"build")))),React.createElement("div",{className:"item-build"},c))),React.createElement("div",{className:"build-bottom"},s),React.createElement("a",{onClick:this.handleGetItemSetClick},"Get ItemSet"))}}),n=React.createClass({displayName:"Expandable",getInitialState:function(){return{maxHeight:0}},componentDidUpdate:function(e){e.expanded!==this.props.expanded&&this.setMaxHeight()},setMaxHeight:function(){var e=React.findDOMNode(this.refs.content);this.setState({maxHeight:this.props.expanded?e.scrollHeight+"px":"0px"})},render:function(){var e=this.props.commonBuild;return void 0!==e&&(e=e.value),React.createElement("div",{className:"content",style:{maxHeight:this.state.maxHeight,transition:"max-height .3s ease",overflow:"hidden"},ref:"content"},React.createElement(a,{build:e}))}}),l=React.createClass({displayName:"ChampionDiv",getInitialState:function(){return{expanded:!1}},handleClick:function(){this.setState({expanded:!this.state.expanded})},render:function(){var e=this.props.data;return React.createElement("div",null,React.createElement("div",{className:"outer-div"},React.createElement("img",{className:"champion-splash",src:"/res/champion/splash/"+e.id+"_0.jpg"}),React.createElement("div",{className:"champion-div"},React.createElement("div",{className:"champion-thumb",style:{backgroundImage:"url(/res/autocomplete_mock/"+e.id+".png)"}}),React.createElement("div",null,React.createElement("h1",null,e.name.toLowerCase()),React.createElement("h2",null,e.title)))),React.createElement("div",{className:"drop-down"},React.createElement(n,{expanded:this.state.expanded,commonBuild:this.props.commonBuild}),React.createElement("div",{className:"expand-collapse",style:{backgroundImage:"url(/res/expand.png)",transform:this.state.expanded?"rotate(180deg)":"rotate(0deg)"},onClick:this.handleClick}," ")))}}),c=React.createClass({displayName:"ChampionView",getInitialState:function(){return{data:{builds:[],champion:{name:this.props.championName,id:this.props.id,image:[]}},loaded:!1,commonBuild:void 0}},componentDidMount:function(){$.when($.getJSON("/res/champion/"+e.id+".json",function(a){t.champion=a.data[e.id]})).then(function(){return this.setState({data:t,loaded:!0}),$.when($.getJSON("/res/item.json",function(e){t.items=e}),$.getScript("/buildlist.min.js"),$.getJSON("/res/summoner.json",function(e){var a=[];$.each(e.data,function(e,t){a[t.key]=t}),t.summoners=a}.bind(this)),$.ajax({type:"get",url:this.props.url+t.champion.key,dataType:"json",cache:!0,success:function(e){t.builds=e.data}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)}))}.bind(this)).then(function(){return $.each(t.builds,function(e,a){a.value.summonerSpells[0]=t.summoners[a.value.summonerSpells[0]],a.value.summonerSpells[1]=t.summoners[a.value.summonerSpells[1]],a.value.champion=this.props.id}.bind(this)),this.setState({data:t,loaded:!0}),$.ajax({type:"get",url:this.props.commonUrl+t.champion.key,dataType:"json",cache:!0,success:function(e){t.common=e.data}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})}.bind(this)).then(function(){val=t.common,val.value.summonerSpells[0]=t.summoners[val.value.summonerSpells[0]],val.value.summonerSpells[1]=t.summoners[val.value.summonerSpells[1]],val.value.champion=this.props.id,this.setState({commonBuild:t.common})}.bind(this))},render:function(){var e;if(this.state.loaded&&void 0!=t.builds){var a={};a[this.props.id]=t.champion,e=React.createElement(BuildList,{data:this.state.data.builds,core:t,champLib:a})}return React.createElement("div",null,React.createElement(l,{data:this.state.data.champion,commonBuild:this.state.commonBuild}),e)}});React.render(React.createElement(c,{url:"http://ec2-54-148-42-154.us-west-2.compute.amazonaws.com:5000/api/champion/outlier/",commonUrl:"http://ec2-54-148-42-154.us-west-2.compute.amazonaws.com:5000/api/champion/common/",id:e.id,championName:""}),$("#main-content")[0])});